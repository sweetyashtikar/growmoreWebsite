;/*FB_PKG_DELIM*/

__d("WAWebUploadUserReport",["WALogger","WAWebCrashlog","WAWebCrashlogConstants","WAWebLoggerDebugInfo","WAWebXHR","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport failed ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport succeeded"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport submitting"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport description: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport uploading"]);l=function(){return a};return a}function a(a,b,c,d,e,f,g){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,m,n){try{d("WALogger").LOG(l());d("WALogger").LOG(k(),f).verbose();var o=(yield d("WAWebCrashlog").upload({reason:d("WAWebCrashlog").USER_REPORT,immediate:!1,isHighPri:!0,logType:d("WAWebCrashlog").LogType.SUPPORT})),p=new FormData();a!=null&&p.append("user",String(a));p.append("email",b);o&&p.append("crashlog",o);p.append("desc",f);g.map(function(a,b){p.append("screenshot-"+b,a)});a=(yield d("WAWebLoggerDebugInfo").getDebugInfo({supportTag:m,entityId:n}));b=babelHelpers["extends"]({},a,{subject:e});p.append("info",JSON.stringify(b));d("WALogger").LOG(j());yield c("WAWebXHR").post(d("WAWebCrashlogConstants").TICKET_URL,p);d("WALogger").LOG(i())}catch(a){d("WALogger").LOG(h(),String(a))}});return m.apply(this,arguments)}g.uploadUserReport=a}),98);
__d("WAWebStatusPrivacySettingsFlowLoadable",["JSResourceForInteraction","WAWeb-react-loadable","WAWebLazyLoadedRetriable","WAWebLoadingModal.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebStatusPrivacySettingsModalFlow.react").__setRef("WAWebStatusPrivacySettingsFlowLoadable").load());return a}),"StatusPrivacySettingsFlow");d=c("WAWeb-react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingModal.react"),{error:Boolean(a.error)})}});g.requireBundle=a;g.StatusPrivacySettingsFlowLoadable=d}),98);
__d("WAWebStatusPrivacySettingButton.react",["fbt","WAWebE2EStatusV2Icon","WAWebModalManager","WAWebStatusPrivacySettingsFlowLoadable","WAWebUserPrefsStatusType","WAWebWDSButton","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react"));e=b.forwardRef;var l=b.useEffect,m=b.useState,n={icon:{color:"x1ijsw6v",$$css:!0}};function a(a){var b=a.statusPostingPrivacyConfig,c=a.setStatusPostingPrivacyConfig,e=function(a){if((a==null?void 0:a.setting)===d("WAWebUserPrefsStatusType").StatusPrivacySettingType.Contact)return h._("__JHASH__J3I4ZeAL2J4__JHASH__");else if((a==null?void 0:a.setting)===d("WAWebUserPrefsStatusType").StatusPrivacySettingType.DenyList)return h._("__JHASH__xnKTyR9CM0L__JHASH__",[h._param("excluded-contacts-count",a==null?void 0:a.denyList.length)]);else if((a==null?void 0:a.setting)===d("WAWebUserPrefsStatusType").StatusPrivacySettingType.AllowList)return h._("__JHASH__uKOByHSMMz1__JHASH__",[h._param("included-contacts-count",a==null?void 0:a.allowList.length)])};a=m(e(b));var f=a[0],g=a[1];l(function(){g(e(b))},[b]);return k.jsxs(d("WAWebWDSButton").WDSButtonPlainWhite,{icon:d("WAWebE2EStatusV2Icon").E2EStatusV2Icon,iconXstyle:n.icon,onClick:function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebStatusPrivacySettingsFlowLoadable").StatusPrivacySettingsFlowLoadable,{statusPostingPrivacyConfig:b,setStatusPostingPrivacyConfig:c}))},children:[h._("__JHASH__FJWHPozMy9O__JHASH__")," ",f]})}a.displayName=a.name+" [from "+f.id+"]";c=e(a);g["default"]=c}),226);
__d("WAWebOrderDetailRadioButton.react",["WAWebCheckBoxRound.react","WAWebFlex.react","WAWebUISpacing","WAWebUnstyledButton.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b,e=a.checked,f=a.isCanceled,g=a.label,h=a.onClick;a=a.testid;return i.jsx(c("WAWebUnstyledButton.react"),{onClick:h,testid:void 0,children:i.jsxs(d("WAWebFlex.react").FlexRow,{children:[i.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:[d("WAWebUISpacing").uiPadding.start12,d("WAWebUISpacing").uiPadding.end24],children:i.jsx(c("WAWebCheckBoxRound.react"),{checked:e,radio:!0,hover:!1,systemUncheckedColor:!0,onChange:function(){return void h()}})}),i.jsx("div",{className:f?"x1sr8853":null,children:g})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderStatusUpdateDrawer.react",["fbt","WALogger","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebBizOrderStatusLabels","WAWebBizSendOrderAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebButton.react","WAWebCTWADataSharingModel","WAWebCmd","WAWebCommonCTWADataSharing","WAWebConfirmPopup.react","WAWebConstantsDeprecated","WAWebDataSharingOptOutOrUpsell","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFbtCommon","WAWebFlex.react","WAWebModalManager","WAWebOrderDetailMath","WAWebOrderDetailRadioButton.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderPaymentStatus","WAWebOrderStatus","WAWebOrdersExpansionUtils","WAWebRichTextField.react","WAWebSmb3pdConversionSignalAction","WAWebSmbMarkAsXOrderAction","WAWebSwitch.react","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error opening chat"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error sending order status in chat"]);m=function(){return a};return a}b=k||d("react");var n=i||(i=c("react"));e=b.forwardRef;var o=b.useEffect,p=b.useMemo,q=b.useState,r=d("WAWebBizGatingUtils").isOrderStatusM1Enabled()?[d("WAWebOrderStatus").OrderStatus.PaymentRequested,d("WAWebOrderStatus").OrderStatus.PreparingToShip,d("WAWebOrderStatus").OrderStatus.Shipped,d("WAWebOrderStatus").OrderStatus.Delivered,d("WAWebOrderStatus").OrderStatus.Canceled]:[d("WAWebOrderStatus").OrderStatus.Processing,d("WAWebOrderStatus").OrderStatus.Shipped,d("WAWebOrderStatus").OrderStatus.Complete,d("WAWebOrderStatus").OrderStatus.Canceled],s={checkboxContainer:{rowGap:"x1na6gtj",columnGap:"x1qgv0r9",$$css:!0},spacer:{height:"xqtp20y",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",$$css:!0}};function t(a){a=a.xstyle;return n.jsx("div",{className:(j||(j=c("stylex")))(s.spacer,d("WAWebUISpacing").uiMargin.top16,a)})}t.displayName=t.name+" [from "+f.id+"]";var u=function(a,b,e,f){if(c("WAWebCommonCTWADataSharing").shouldDisplayDataSharingOrderOptOutOrUpsell(a,"order-update",b))return n.jsx(d("WAWebDataSharingOptOutOrUpsell").DataSharingOptOutOrUpsell,{theme:"order-update",onCheckboxToggle:function(){return f(!e)},checkboxValue:e})},v=function(){return d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]};function a(a,b){var e=q(v),f=e[0],g=e[1];e=q("");var i=e[0],k=e[1],w=p(function(){return d("WAWebOrderStatus").findOrderStatus(a.chat,a.orderInfo.referenceId)},[a.chat,a.orderInfo.referenceId]),x=p(function(){return d("WAWebOrderPaymentStatus").findLastOrderPaymentStatusInfo(a.chat,a.orderInfo.referenceId)},[a.chat,a.orderInfo.referenceId]);e=q(w);var y=e[0],z=e[1];e=q((x==null?void 0:x.paymentStatus)===d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured);var A=e[0],B=e[1];o(function(){var a=function(a){return g(a===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"])};d("WAWebCTWADataSharingModel").CTWADataSharingModel.subscribeForUpdates(a);return function(){d("WAWebCTWADataSharingModel").CTWADataSharingModel.unsubscribeFromUpdates(a)}},[]);var C=a.chat,D=a.sellerJid,E=a.orderInfo,F="no_method_confirmed",G=function(){var b;b=(b=(b=E.externalPaymentConfigurations)==null?void 0:(b=b.at(0))==null?void 0:b.type)!=null?b:F;new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.SEND_MARK_AS_PAID,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(a.entryPoint),hasNote:Boolean(i),paymentStatus:!0,paymentType:b}).commit()};function H(a,b,c,e){d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),a&&(J(!b,c,e),f&&d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForOrders({chat:C,orderStatus:y,paidData:{amount:String(E.totalAmount),currency:E.currency,paid:A},type:"order_updated",isPaidStateChanged:!0})),b&&I(c,e)}function I(b,e){var g=d("WAWebUserPrefsMeUser").getMaybeMeUser();g=g?d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(g)):!1;new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.SEND_ORDER_STATUS,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(a.entryPoint),hasCatalog:g,hasNote:Boolean(i)}).commit();d("WAWebBizSendOrderAction").sendOrderStatusMessageAsMerchant({chat:C,sellerJid:D,orderInfo:E,orderNote:i,orderStatus:b,offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,paymentStatus:e?d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured:d("WAWebOrderPaymentStatus").OrderPaymentStatus.Pending,paymentMethod:null})["catch"](function(a){d("WALogger").ERROR(m()).verbose().devConsole(a)});d("WAWebSmbMarkAsXOrderAction").markOrderAsUpdatedStatusAction(C,f,y,A);f&&d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForOrders({chat:C,orderStatus:y,paidData:{amount:String(E.totalAmount),currency:E.currency,paid:A},type:"order_updated"});d("WAWebCmd").Cmd.openChatFromUnread(C)["catch"](function(a){d("WALogger").ERROR(l()).verbose().devConsole(a)})}function J(a,b,c){d("WAWebBizSendOrderAction").sendOrderPaymentStatusMessageAsMerchant({chat:C,sellerJid:D,orderInfo:E,orderNote:a?i:null,orderStatus:b,offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,paymentStatus:c?d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured:d("WAWebOrderPaymentStatus").OrderPaymentStatus.Pending,paymentMethod:null})["finally"](function(){G()})}function K(a){return r.findIndex(function(b){return b===a})}function L(){var a=K(y),b=K(w),e=(x==null?void 0:x.paymentStatus)===d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured,f=a!==b,g=e!==A;e=!f&&!g;a=a<b;var i=y,j=A;d("WAWebBizGatingUtils").isOrderStatusM1Enabled()&&(g&&(A?y===d("WAWebOrderStatus").OrderStatus.PaymentRequested&&(i=d("WAWebOrderStatus").OrderStatus.PreparingToShip):!A&&y===d("WAWebOrderStatus").OrderStatus.PreparingToShip&&(i=d("WAWebOrderStatus").OrderStatus.PaymentRequested)),f&&(A&&y===d("WAWebOrderStatus").OrderStatus.PaymentRequested&&(j=!1)));e?d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__sq5vCQ5USss__JHASH__"),okText:c("WAWebFbtCommon")("OK"),onOK:function(){d("WAWebModalManager").ModalManager.close()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__MokQoGmWX6F__JHASH__",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(w))]):h._("__JHASH__1vB_eHa7weV__JHASH__",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(w))])})):a?d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__8N28pK0sbYA__JHASH__"),okText:h._("__JHASH__IBFlvfnDAy4__JHASH__"),onOK:function(){H(g,f,i,j),d("WAWebModalManager").ModalManager.close()},cancelText:h._("__JHASH__Zxn4YYs9oaP__JHASH__"),onCancel:function(){d("WAWebModalManager").ModalManager.close()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__bZ2ScGcUD7R__JHASH__",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(w)),h._param("orderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(y))]):h._("__JHASH__UARVCowcoXl__JHASH__",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(w)),h._param("orderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(y))])})):H(g,f,i,j)}e=h._("__JHASH__W9JHo2yaW9d__JHASH__");var M=function(){B(!A)};return n.jsxs(c("WAWebDrawer.react"),{onDrop:a.onBack,ref:b,children:[n.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__jHYMghYQIO6__JHASH__"):h._("__JHASH__IaAnh-WqNbE__JHASH__"),onBack:a.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),n.jsx(c("WAWebDrawerBody.react"),{children:n.jsxs(c("WAWebDrawerSection.react"),{children:[d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()&&n.jsxs(n.Fragment,{children:[n.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:[d("WAWebUISpacing").uiPadding.top16,d("WAWebUISpacing").uiPadding.horiz16],children:[n.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:d("WAWebUISpacing").uiPadding.end24,children:n.jsx(d("WAWebSwitch.react").Switch,{checked:A,onChange:M,testid:void 0})}),n.jsx("div",{children:h._("__JHASH__g87pBZZ6PR8__JHASH__")})]}),n.jsx(t,{xstyle:d("WAWebUISpacing").uiMargin.bottom16})]}),n.jsx("div",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiPadding.vert4,d("WAWebUISpacing").uiPadding.horiz16),children:n.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:s.checkboxContainer,children:r.map(function(a){return n.jsx(c("WAWebOrderDetailRadioButton.react"),{testid:void 0,label:d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(a),isCanceled:a===d("WAWebOrderStatus").OrderStatus.Canceled,checked:y===a,onClick:function(){z(a)}},a)})})}),n.jsx(t,{}),n.jsx("div",{className:j(d("WAWebUISpacing").uiPadding.horiz28),children:n.jsx(d("WAWebRichTextField.react").RichTextField,{maxLength:c("WAWebConstantsDeprecated").MAX_CART_MESSAGE_LENGTH,placeholder:e,value:i,testid:void 0,multiline:!0,showRemaining:!0,spellCheck:!0,emojiBtnPosition:"side",textFormatEnabled:!0,onEnter:L,onChange:function(a){return k(a.text)}})}),u(a.chat,E.items.length,f,g),n.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[d("WAWebUISpacing").uiPadding.horiz16,d("WAWebUISpacing").uiMargin.top8,d("WAWebUISpacing").uiMargin.bottom24],children:n.jsx(c("WAWebButton.react"),{testid:void 0,type:"primary",onClick:L,children:h._("__JHASH__ozB-3Zgb8C4__JHASH__")})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),226);
__d("WAWebSendButtonWithCount.react",["WAWebRound.react","WAWebSendIcon","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={container:{position:"x1n2onr6",$$css:!0},disabled:{opacity:"x5dmra7",$$css:!0},count:{position:"x10l6tqk",start:"xua97ej",bottom:"xwajptj",zIndex:"x1n327nk",width:"xw4jnvo",height:"x1qx5ct2",fontSize:"x1jchvi3",lineHeight:"x132q4wb",color:"x1lixm6g",textAlign:"x2b8uid",backgroundColor:"x12peec7",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"xu306ak",transitionProperty:"xkdsq27",transitionDuration:"x12s1jxh",transitionTimingFunction:"xwwtwea",$$css:!0},large:{bottom:"x8530fw",width:"xvy4d1p",height:"xxk0z11",lineHeight:"x1evy7pa",start:"x1xlz7ou",$$css:!0},wide:{borderTopStartRadius:"x13zp6kq",borderTopEndRadius:"x1mcfq15",borderBottomEndRadius:"xrosliz",borderBottomStartRadius:"x1wb7cse",width:"x14atkfc",paddingStart:"x1e558r4",paddingEnd:"x150jy0e",$$css:!0}};function l(a){return a>9}function m(a){return a>999}function a(a){var b=a.ariaLabel,e=a.count,f=a.disabled,g=a.large,h=a.onClick;a=a.testid;return j.jsxs("div",{className:(i||(i=c("stylex")))(k.container,f===!0&&k.disabled),children:[j.jsx(d("WAWebRound.react").Round,{label:b,large:g,testid:void 0,onClick:h,disabled:f,children:j.jsx(d("WAWebSendIcon").SendIcon,{directional:!0,xstyle:d("WAWebUISpacing").uiMargin.start4})}),e!=null&&j.jsx("div",{className:(i||(i=c("stylex")))(k.count,g===!0&&k.large,l(e)&&k.wide),children:j.jsx("span",{className:"xxymvpz",children:m(e)?"999+":e})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebSendLogsPopup.react",["fbt","WALinkify","WAPhoneUtils","WAWebABPropsSaga","WAWebConfirmPopup.react","WAWebConnModel","WAWebEventFiles","WAWebExternalLink.react","WAWebFaqUrl","WAWebKeyboardHotKeys.react","WAWebModalManager","WAWebRichTextField.react","WAWebSupportChatStrings","WAWebToast.react","WAWebToastManager","WAWebUploadUserReport","WAWebUserPrefsMeUser","WAWebWDSText.react","WAWebXAltIcon","asyncToGeneratorRuntime","fbs","gkx","react"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState,o=320,p=50,q=10,r=500,s=3,t=10485760;function u(){if(c("gkx")("26254"))return d("WAWebConnModel").Conn.isSMB?h._("__JHASH__I601hnHGrFJ__JHASH__"):h._("__JHASH__AhgPLhWKIJ-__JHASH__");else if(c("gkx")("26255"))return d("WAWebConnModel").Conn.isSMB?h._("__JHASH__ghP2T2pST8D__JHASH__"):h._("__JHASH__0hsZiYhqhCo__JHASH__");return h._("__JHASH__LLblzY4NWPN__JHASH__")}function v(a){var b=a.onDeleteScreenshot;a=a.screenshots;a=a.map(function(a,c){if(a.url==null)return null;var e="url("+a.url+")";a=a.url+"-"+c;return k.jsx("div",{className:"x1n2onr6 x1faq86j x1vtj31x x1t79jtt x1gslohp xw3qccf x12nagc xsgj6o6 x1oreiyq x1vwr25l x18d0r48 x1e7nkc8",style:{backgroundImage:e},children:k.jsx("button",{className:"x10l6tqk xnfr1j xgmwauy x7o08j2",onClick:function(){b(c)},children:k.jsx(d("WAWebXAltIcon").XAltIcon,{})})},a)}).filter(Boolean);return a.length!==0?k.jsx("div",{className:"x78zum5 x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x1q7yeco",children:a}):null}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.isDragging,c=a.onAttachClick;a=a.reachedMaxScreenshots;if(a){a=s;return k.jsx("div",{className:"x9f619 x78zum5 xdt5ytf x6s0dn4 xl56j7k xh8yej3 xlup9mm xexx8yu x4uap5 x18d9i69 xkhd6sd xw7yly9 x1pg5gke x2b8uid xtvhhri xlwc9sh xpw2u0k xt0e3qv",children:h._("__JHASH__nRq1j6poVpM__JHASH__",[h._plural(a,"number")])})}else if(b)return k.jsx("div",{className:"x9f619 x78zum5 xdt5ytf x6s0dn4 xl56j7k xh8yej3 xlup9mm xexx8yu x4uap5 x18d9i69 xkhd6sd xw7yly9 x1pg5gke x1jrnqrx x2b8uid xtvhhri x1ypdohk xlwc9sh",children:h._("__JHASH__E4yN8s83x3u__JHASH__")});return k.jsx("div",{className:"x9f619 x78zum5 xdt5ytf x6s0dn4 xl56j7k xh8yej3 xlup9mm xexx8yu x4uap5 x18d9i69 xkhd6sd xw7yly9 x1pg5gke x1jrnqrx x2b8uid xtvhhri x1ypdohk xlwc9sh",onClick:c,children:h._("__JHASH__q6f6QlMKgDZ__JHASH__")})}w.displayName=w.name+" [from "+f.id+"]";function a(a){var e=a.onCancel,f=a.supportTag,g=a.onSend,i=a.entityId,j=n(""),x=j[0],y=j[1];j=n(void 0);var z=j[0],A=j[1];j=n("");var B=j[0],C=j[1];j=n(void 0);var D=j[0],E=j[1];j=n(u().toString());var F=j[0],G=j[1];j=n(void 0);var H=j[0],I=j[1];a=n((j=a.description)!=null?j:"");var J=a[0],K=a[1];j=n(void 0);a=j[0];var L=j[1];j=n([]);var M=j[0],N=j[1];j=n(!1);var O=j[0],P=j[1];j=n(!1);var Q=j[0],R=j[1],S=m(null),T=m(null);l(function(){var a;(a=S.current)==null?void 0:a.restoreFocus();R(d("WAWebABPropsSaga").getIsSagaV1TestEnabled());return function(){M.map(function(a){a=a.url;return URL.revokeObjectURL(a)})}},[]);var U=function(a){return!0},V=function(a){return a.length>q},W=function(a){return x===a},X=function(){return M.length>=s};j=function(){e&&e(),d("WAWebModalManager").ModalManager.close()};var Y=function(a){a.stopPropagation()},aa=function(a,b){P(a)},ba=function(){var a=B.trim();B&&!W(a)&&E(h._("__JHASH__kSyfdOHyTbj__JHASH__"));C(a)},ca=function(){var a=x.trim();x&&!d("WALinkify").validateEmail(a)&&A(h._("__JHASH__Ioswb2NNWQY__JHASH__"));y(a)},da=function(a){d("WALinkify").validateEmail(a)&&A(void 0),y(a)},ea=function(){J&&!V(J)&&L(h._("__JHASH___eUeaUfWHur__JHASH__"))},fa=function(a){if(!X()){(a=T.current)==null?void 0:a.click()}},Z=function(a){a.preventDefault();a.stopPropagation();if(X())return;d("WAWebEventFiles").getFiles(a,"image/*").then(function(a){T.current&&(T.current.value="");var b=a.filter(function(a){return a.size<=t});b.length<a.length&&d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__mOHw834i-ag__JHASH__")}));if(X())return;a=s-M.length;b=b.slice(0,a);a=b.map(function(a){return{file:a,url:URL.createObjectURL(a)}});N(M.concat(a))})},ga=function(a){C(a),W(a)&&E(void 0)},ha=function(a){K(a),V(a)&&L(void 0)},ia=function(){U(F)||I(h._("__JHASH__fnvIAVy3YLj__JHASH__"))},ja=function(a){G(a),U(a)&&I(void 0)},ka=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=0,b=x.trim(),e=B.trim();y(b);C(e);d("WALinkify").validateEmail(b)||(A(h._("__JHASH__Ioswb2NNWQY__JHASH__")),a+=1);W(e)||(E(h._("__JHASH__kSyfdOHyTbj__JHASH__")),a+=1);V(J)||(L(h._("__JHASH___eUeaUfWHur__JHASH__")),a+=1);U(F)||(I(h._("__JHASH__fnvIAVy3YLj__JHASH__")),a+=1);if(a===0){A(void 0);E(void 0);I(void 0);L(void 0);e=M.map(function(a){URL.revokeObjectURL(a.url);return a.file});N([]);a=d("WAWebUserPrefsMeUser").getMaybeMeUser();a=a?d("WAPhoneUtils").formatPhone(a.user):null;var j=F.trim()||c("fbs")._("__JHASH__LLblzY4NWPN__JHASH__").toString();d("WAWebUploadUserReport").uploadUserReport(a,b,j,J,e,f,i);g&&g({subject:j,description:J,numScreenshots:e.length});d("WAWebModalManager").ModalManager.close();d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._("__JHASH__dREXQThAWkL__JHASH__")}))}});return function(){return a.apply(this,arguments)}}(),$=function(a){var b=M.slice();a=b.splice(a,1);a=a[0];URL.revokeObjectURL(a.url);N(b)};$=k.jsxs("div",{children:[k.jsx(v,{screenshots:M,onDeleteScreenshot:$}),k.jsx(w,{reachedMaxScreenshots:X(),isDragging:O,onAttachClick:fa}),k.jsx("input",{className:"x1s85apg",accept:"image/*",type:"file",multiple:!0,onClick:Y,onChange:Z,ref:T,disabled:X()})]});O={enter:Y};return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__IK0yJR9Mtbx__JHASH__"),okText:h._("__JHASH__RTw8nDkS9-7__JHASH__"),onOK:ka,onCancel:j,onDrop:Z,onDragChange:aa,children:k.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:O,children:[k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,ref:S,value:x,error:z,maxLength:o,onChange:function(a){return da(a.text)},onBlur:ca,placeholder:h._("__JHASH__2OrCmOFp5S1__JHASH__")}),k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,editable:!0,value:B,error:D,maxLength:o,onChange:function(a){return ga(a.text)},onBlur:ba,placeholder:h._("__JHASH__b4yojxulKS1__JHASH__")}),k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:F,error:H,maxLength:p,onChange:function(a){return ja(a.text)},onBlur:ia,placeholder:h._("__JHASH__sLKnNPiXK3e__JHASH__")}),k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:J,error:a,maxLength:r,onChange:function(a){return ha(a.text)},onBlur:ea,placeholder:h._("__JHASH__XlXcJ0JDEsr__JHASH__"),multiline:!0}),$,Q&&k.jsxs(d("WAWebWDSText.react").WDSTextMuted,{marginTop:20,children:[d("WAWebSupportChatStrings").SupportChatDeviceInfoDisclaimer()," ",k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getSupportChatFaqUrl(),children:h._("__JHASH__RR1bpeluTQm__JHASH__")})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);