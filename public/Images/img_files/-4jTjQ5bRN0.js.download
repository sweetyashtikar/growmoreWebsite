;/*FB_PKG_DELIM*/

__d("WAWebSearchByTypeAndDateGatingUtils",["WAWebABProps"],(function(a,b,c,d,e,f,g){function a(){return d("WAWebABProps").getABPropConfigValue("web_search_by_date_enabled")}g.searchByDateEnabled=a}),98);
__d("WAWebDesktopUpsellCallingUnavailable.react",["fbt","WANullthrows","WAWebChevronDownAltIcon","WAWebDesktopUpsellCallingPopover.react","WAWebDesktopUpsellStoreOpener","WAWebDesktopUpsellUtils","WAWebFlex.react","WAWebPopover.react","WAWebTabOrder","WAWebUISpacing","WAWebUnstyledButton.react","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebVideoCallIcon","WAWebWDSDropdown.react","WAWebWamEnumWebcNativeUpsellCtaEventType","WAWebWamEnumWebcNativeUpsellCtaSourceType","WAWebWebcNativeUpsellCtaWamEvent","react","stylex","useWAWebDesktopUpsellWamImpression","useWAWebOnUnmount"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useRef,o={menuBarBtnContainer:{position:"x1n2onr6",height:"x5yr21d",borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",transitionProperty:"x15406qy",transitionDuration:"x1d8287x",transitionTimingFunction:"xwji4o3","@media screen and (max-width: 720px)_paddingTop":"xj8bxqt","@media screen and (max-width: 720px)_paddingEnd":"x1o9mn2u","@media screen and (max-width: 720px)_paddingBottom":"xpbnuc5","@media screen and (max-width: 720px)_paddingStart":"x2btq54","@media screen and (max-width: 720px)_marginTop":"x86at4b","@media screen and (max-width: 720px)_marginEnd":"xzl7c9v","@media screen and (max-width: 720px)_marginBottom":"x1ad89wd","@media screen and (max-width: 720px)_marginStart":"x1i1grao",$$css:!0},videoCallIconGroup:{color:"x2jp5ct",$$css:!0},videoCallBtnShaded:{backgroundColor:"x1786zcw",$$css:!0},videoCallBtnOutlined:{borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopColor:"x10vq5hr",borderEndColor:"xbi89o0",borderBottomColor:"x1goaxin",borderStartColor:"x1ux35ld",$$css:!0}};function a(){var a=d("WAWebDesktopUpsellUtils").getUserDesktopOs(),b=n(null);a=d("WAWebWDSDropdown.react").useWDSDropdown({target:b,alignment:d("WAWebPopover.react").PopoverAlignment.End,position:d("WAWebPopover.react").PopoverPosition.Bottom,buffer:6,material:!0,children:l.jsx(p,{userDesktopOs:c("WANullthrows")(a)})});var e=a.popover,f=a.popoverIsVisible;a=r();m(function(){f&&s()},[f]);var g=h._("__JHASH__9FJLuFNCgJZ__JHASH__");return l.jsx("div",{className:(j||(j=c("stylex")))(o.menuBarBtnContainer,d("WAWebUISpacing").uiMargin.start10,d("WAWebUISpacing").uiPadding.horiz10,d("WAWebUISpacing").uiPadding.top5,d("WAWebUISpacing").uiPadding.bottom3,!f&&!a&&o.videoCallBtnOutlined,f&&o.videoCallBtnShaded),ref:b,children:l.jsxs(c("WAWebUnstyledButton.react"),{title:g,"aria-label":g,dataTab:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,children:[l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:o.videoCallIconGroup,children:[l.jsx(d("WAWebVideoCallIcon").VideoCallIcon,{xstyle:d("WAWebUISpacing").uiMargin.end6}),l.jsx(d("WAWebChevronDownAltIcon").ChevronDownAltIcon,{height:10})]}),e]})})}a.displayName=a.name+" [from "+f.id+"]";function p(a){a=a.userDesktopOs;var b=d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.CALL_BTN_MODAL_2;d("useWAWebDesktopUpsellWamImpression").useWAWebDesktopUpsellWamImpression({isCtaVisible:!0,source:b});c("useWAWebOnUnmount")(function(){new(d("WAWebWebcNativeUpsellCtaWamEvent").WebcNativeUpsellCtaWamEvent)({webcNativeUpsellCtaEventType:d("WAWebWamEnumWebcNativeUpsellCtaEventType").WEBC_NATIVE_UPSELL_CTA_EVENT_TYPE.CTA_DISMISS,webcNativeUpsellCtaSource:b}).commit()});return l.jsx(d("WAWebDesktopUpsellCallingPopover.react").WAWebDesktopUpsellCallingPopover,{title:q(a),body:a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?h._("__JHASH__ELcfZfzrNUW__JHASH__"):h._("__JHASH__Rx_sntM1NHc__JHASH__"),onClick:function(){d("WAWebDesktopUpsellStoreOpener").openExternalWhatsAppDesktopDownloadUrl(b)}})}p.displayName=p.name+" [from "+f.id+"]";function q(a){return a===d("WAWebDesktopUpsellUtils").UserDesktopOs.WINDOWS?h._("__JHASH__OcHC7PsDGpP__JHASH__"):h._("__JHASH__ofHZPK8jxoC__JHASH__")}q.displayName=q.name+" [from "+f.id+"]";function r(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.DESKTOP_UPSELL_USER_HAS_CLICKED_CALL_MODAL);return!!a}function s(){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.DESKTOP_UPSELL_USER_HAS_CLICKED_CALL_MODAL,!0)}g.WAWebDesktopCallingMenuButton=a}),226);
__d("WAWebNewsletterChatMenuDropdown.react",["fbt","WAWebCmd","WAWebDrawerManager","WAWebDropdown.react","WAWebDropdownItem.react","WAWebInfoFlowLoadable","WAWebInfoFlowStep","WAWebModalManager","WAWebNewsletterGatingUtils","WAWebNewsletterMembershipUtil","WAWebReportNewsletterPopup.react","WAWebSpamConstants","WAWebStateUtils","WAWebUnfollowNewsletterConfirmationModal.react","WAWebWamEnumChannelEventSurface","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,m=b.useRef;function a(a){var b=a.chat,e=a.onSelectMessages;a=a.toContextMenuManager;var f=m(null),g=b.newsletterMetadata,i=l(function(){d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebReportNewsletterPopup.react"),{chat:b,spamFlow:d("WAWebSpamConstants").SpamFlow.OverflowMenuReport}))},[b]),j=l(function(){d("WAWebCmd").Cmd.chatInfoDrawer(b)},[b]),n=l(function(){d("WAWebCmd").Cmd.closeChat(b)},[b]),o=l(function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebUnfollowNewsletterConfirmationModal.react").UnfollowNewsletterConfirmationModal,{chat:d("WAWebStateUtils").unproxy(b),loggingOptions:{eventSurface:d("WAWebWamEnumChannelEventSurface").CHANNEL_EVENT_SURFACE.CHANNEL_THREAD}}))},[b]),p=l(function(){d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:b,initialStep:d("WAWebInfoFlowStep").InfoFlowStep.NewsletterSettings}))},[b]);p=d("WAWebNewsletterMembershipUtil").iAmAdminOrOwner(b==null?void 0:b.newsletterMetadata)?k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:p,testid:void 0,children:h._("__JHASH__O51Yt7QP6vN__JHASH__")},"newsletter-overflow-menu-newsletter-settings"):null;j=[k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:j,testid:void 0,children:h._("__JHASH__eHd-O5fErG4__JHASH__")},"newsletter-overflow-menu-newsletter-info"),p,k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:e,children:h._("__JHASH__JI9hJ6sBMW7__JHASH__")},"newsletter-overflow-menu-select-messages"),k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:n,testid:void 0,children:h._("__JHASH__lraDtbLxULJ__JHASH__")},"newsletter-overflow-menu-close-channel")];(d("WAWebNewsletterMembershipUtil").iAmGuest(g)||d("WAWebNewsletterMembershipUtil").iAmSubscriber(g))&&d("WAWebNewsletterGatingUtils").isNewsletterReportingEnabled()&&j.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:i,testid:void 0,children:h._("__JHASH__PzRrGSXWySw__JHASH__")},"newsletter-overflow-menu-report"));d("WAWebNewsletterMembershipUtil").iAmSubscriber(g)&&j.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:o,testid:void 0,children:h._("__JHASH__w8sgsp-yDuW__JHASH__")},"newsletter-overflow-menu-unfollow"));return a!=null?k.jsx("div",{ref:f,"data-testid":void 0,children:j}):k.jsx(d("WAWebDropdown.react").Dropdown,{ref:function(a){f.current=a},type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:j},"NewsletterMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";g.NewsletterChatMenuDropdown=a}),226);
__d("WAWebDBSearchByDate",["WAWebDBMessageStoreUtils","WAWebDBMessageUtils","WAWebSchemaMessage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h=1;function a(a,b,c,d,e){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){b=d("WAWebDBMessageUtils").craftMessageRangeIndex(a,e,!1,b);a=d("WAWebDBMessageUtils").craftMessageRangeIndex(a,e,!1,c);e=(yield d("WAWebSchemaMessage").getMessageTable().between(["messageRangeIndex"],b,a,{lowerInclusive:!0,upperInclusive:!0,reverse:f,limit:h},function(a){return!d("WAWebDBMessageStoreUtils").shouldRenderInUI(a,void 0)}));return e[0]});return i.apply(this,arguments)}g.getClosestMessageBetweenDates=a}),98);
__d("WAWebSearchByDateUtils",["WALogger","WAWebDBSearchByDate","WAWebMsgKey","WAWebUserPrefsHistorySync","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["getClosestMessageFromDate found message in before search of date"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["getClosestMessageFromDate found message in after search of date"]);i=function(){return a};return a}function j(a){return Math.floor(a/1e3)}function k(a,b,d){var e=null;a!=null&&b!=null?d?e=a.t>=b.t?a.id:b.id:e=a.t<=b.t?a.id:b.id:a?e=a.id:b&&(e=b.id);return e!=null?c("WAWebMsgKey").fromString(e):null}function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=(yield d("WAWebDBSearchByDate").getClosestMessageBetweenDates(a,b,c,!0,e));a=(yield d("WAWebDBSearchByDate").getClosestMessageBetweenDates(a,b,c,!1,e));return k(f,a,e)});return m.apply(this,arguments)}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=j(b.getTime());var c=d("WAWebUserPrefsHistorySync").getHistorySyncEarliestDate()*1e3,e=new Date().getTime();e=(yield l(a,b,e,!1));if(e!=null){d("WALogger").DEV(i());return e}e=(yield l(a,c,b,!0));if(e!=null){d("WALogger").DEV(h());return e}return e});return n.apply(this,arguments)}g.fromMillisecondsToSeconds=j;g.getClosestMessageFromDate=a}),98);
__d("WAWebChatAssignmentNux.react",["fbt","WAWebChatAssignmentLogEvents","WAWebNux","WAWebUseIsFeatureEnabled","WAWebUserPrefsStore","WAWebWDSTooltip.react","react","useWAWebNux"],(function(a,b,c,d,e,f,g,h){var i;b=i||d("react");var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useState;function a(a){var b=a.chat,e=a.targetRef;a=c("useWAWebNux")(d("WAWebNux").NUX.CHAT_ASSIGNMENT);var f=a[0],g=a[1];a=m(!0);var i=a[0],n=a[1];a=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION");var o=d("WAWebWDSTooltip.react").useWDSTooltip({target:e,element:h._("__JHASH__9Bpy5PG-n_p__JHASH__"),position:d("WAWebWDSTooltip.react").PopoverPosition.Bottom,alignment:d("WAWebWDSTooltip.react").PopoverAlignment.End,onClick:function(){r(),n(!1)}}),p=o.tooltip,q=o.showTooltip,r=o.hideTooltip;o=l(function(){return c("WAWebUserPrefsStore").getUser("chat_assignment_agent_has_assigned_chats")},[]);var s=j(function(){r(),n(!1)},[r]),t=f&&i&&a&&b.assignedAgent==null&&o==null;k(function(){t&&p==null&&e.current!=null&&(q(),g(),d("WAWebChatAssignmentLogEvents").logNuxShown(b))},[t,p,e,q,s,g,b]);return p}g["default"]=a}),226);
__d("WAWebGroupSubtitle.react",["fbt","WAWebChatAssignmentLogEvents","WAWebChatCollection","WAWebChatSubtitleText","WAWebElevatedPushNamesFlag","WAWebFrontendContactGetters","WAWebGroupQueryJob","WAWebGroupType","WAWebParticipantsList.react","WAWebPresenceEnum","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(a){var b=a.assignmentSubtitle,e=a.chatId,f=a.chatstate,g=a.groupMetadata,i=a.location,j=a.placeholder;a=a.presence;d("useWAWebModelValues").useModelValues(f,["id","type","deny","t"]);var m=d("useWAWebModelValues").useModelValues(g,["announce","participants","groupType","size","id"]),n=d("useWAWebModelValues").useModelValues(a,["forceDisplay","withholdDisplayStage"]),o=function(){return m.groupType===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&m.participants.iAmMember()&&!m.participants.iAmAdmin()};l(function(){o()&&!m.size&&d("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById(m.id)},[]);l(function(){b!=null&&n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.ChatAssignment&&d("WAWebChatAssignmentLogEvents").logChatStatusTickerShown(e)},[e,n.withholdDisplayStage,b]);var p=d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(d("WAWebChatCollection").ChatCollection.get(e));f=function(){return m.groupType===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP?{text:h._("__JHASH__dhHo5hWiU_Z__JHASH__")}:n.getGroupSubtitleText({elevatedPushNamesEnabled:p})};var q,r;g=!1;if(n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.CommunityName){a=d("WAWebChatCollection").ChatCollection.get(e);a=a==null?void 0:(a=a.groupMetadata)==null?void 0:a.getParentGroupChat();a=a==null?void 0:a.contact;a=a!=null?d("WAWebFrontendContactGetters").getFormattedName(a):null;q=h._("__JHASH__jeucOx6ke8r__JHASH__",[h._param("community",a)])}else if(n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.OnlyAdminsCanSend)q=h._("__JHASH__8QEb6bbwR8F__JHASH__");else if(n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.E2EE)q=d("WAWebChatSubtitleText").e2eChatSubtitleText(),g=!0;else if(n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.Info)q=j;else if(b!=null&&n.withholdDisplayStage===d("WAWebPresenceEnum").WithholdDisplayStage.ChatAssignment)q=b;else{a=f();a!=null&&(q=a.text,r=a.ariaLabel)}return k.jsx(c("WAWebParticipantsList.react"),{groupMetadata:m,overridingText:q,placeholder:j,ariaLabel:r,location:i,showLockIcon:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebChevronCircledIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="chevron-circled";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox,h=a.innerStyles;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox","innerStyles"]);var l;if(g){var m=g.x;m=m===void 0?0:m;var n=g.y;n=n===void 0?0:n;var o=g.width;o=o===void 0?0:o;g=g.height;g=g===void 0?0:g;l=[m,n,o,g].join(" ")}m=12;n=12;(e!=null||f!=null)&&(m=e,n=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(o=l)!=null?o:"0 0 12 12",height:m,width:n,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("rect",{width:12,height:12,rx:6,fill:"#54656F",className:i(h==null?void 0:h.background)}),j.jsx("path",{d:"M9.52499 5.00475L5.98124 8.44275L2.51999 4.9815L3.34724 4.15425L5.98124 6.78825L8.64524 4.125L9.52499 5.00475Z",fill:"#F0F2F5",className:i(h==null?void 0:h.primary)})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ChevronCircledIcon=a}),98);
__d("WAWebSubgroupSwitcherIcon.react",["fbt","WAWebChevronCircledIcon","WAWebCommunityFeatureUsageWamEvent","WAWebCommunityGroupJourneyEventImpl","WAWebCommunitySubgroupSwitcher.react","WAWebDetailImage.react","WAWebMenuBar.react","WAWebModalManager","WAWebUISpacing","WAWebWamEnumChatFilterActionTypes","WAWebWamEnumCommunityFeatureUiActionTakenType","WAWebWamEnumCommunityUiFeatureType","WAWebWamEnumSurfaceType","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={container:{height:"x1fgtraw",width:"xgd8bvy",position:"x1n2onr6",$$css:!0},parentGroupImage:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0},chevron:{height:"x5yr21d",width:"xh8yej3",color:"x10gus5o",$$css:!0}};function a(a){var b=a.chat,e=(a=b.groupMetadata)==null?void 0:a.parentGroup;if(e==null)return null;a=function(a){a.stopPropagation(),new(d("WAWebCommunityFeatureUsageWamEvent").CommunityFeatureUsageWamEvent)({communityId:e.toString(),communityUiAction:d("WAWebWamEnumCommunityFeatureUiActionTakenType").COMMUNITY_FEATURE_UI_ACTION_TAKEN_TYPE.ENTRY,communityUiFeature:d("WAWebWamEnumCommunityUiFeatureType").COMMUNITY_UI_FEATURE_TYPE.SUBGROUP_SWITCH}).commit(),new(d("WAWebCommunityGroupJourneyEventImpl").CommunityGroupJourneyEvent)({action:d("WAWebWamEnumChatFilterActionTypes").CHAT_FILTER_ACTION_TYPES.SUBGROUP_SWITCHER_CLICK,surface:d("WAWebWamEnumSurfaceType").SURFACE_TYPE.CHAT,chat:b}).commit(),d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebCommunitySubgroupSwitcher.react"),{chat:b}))};var f=j.jsxs(j.Fragment,{children:[j.jsx(d("WAWebDetailImage.react").DetailImage,{id:e,size:28,shape:d("WAWebDetailImage.react").DetailImageShape.Squircle,xstyle:k.parentGroupImage}),j.jsx("div",{className:"x10l6tqk xyzs4uy x1tk7jg1 xlup9mm x1kky2od xamhcws xol2nv xlxy82 x19p7ews x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xls5kiu x1vektf3 x1uy4w22 x1cte7vi x14yjl9h xudhj91 x18nykt9 xww2gxu",children:j.jsx(d("WAWebChevronCircledIcon").ChevronCircledIcon,{xstyle:k.chevron,height:16,width:16})})]});return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{xstyle:[k.container,d("WAWebUISpacing").uiPadding.all0],buttonStyle:[k.container,d("WAWebUISpacing").uiPadding.all0],onClick:a,title:h._("__JHASH__mpIGPHqNNXG__JHASH__"),testid:void 0,icon:f})}a.displayName=a.name+" [from "+f.id+"]";g.SubgroupSwitcherIcon=a}),226);
__d("WAWebDebugConvertToLidChatModal.react",["WAWebApiContact","WAWebCmd","WAWebComposeBoxActions","WAWebConfirmPopup.react","WAWebDeleteChatAction","WAWebDevOnlyBadge.react","WAWebDropdownItem.react","WAWebFindChatAction","WAWebModalManager","WAWebToast.react","WAWebToastManager","WAWebWidFactory","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat;return i.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,addSpacing:!0,action:function(){j(b)},children:i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Convert to LID chat"})},"convertToLid")}a.displayName=a.name+" [from "+f.id+"]";function j(a){d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:"Yes",cancelText:"No",onCancel:function(){d("WAWebModalManager").ModalManager.close()},onOK:function(){d("WAWebModalManager").ModalManager.close(),k(a)},children:"'Warning! This will DELETE your existing chat along with all message history and convert it to a new LID-based chat. Do you want to proceed?'"}))}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").toUserWid(a.id));if(b==null){d("WAWebToastManager").ToastManager.open(i.jsx(d("WAWebToast.react").Toast,{msg:"Unable to convert to lid chat: no lid found for "+a.id.toString()}));return}yield d("WAWebDeleteChatAction").sendDelete(a);a=(yield d("WAWebFindChatAction").findChat(b,"debugConvertToLidChat"));yield d("WAWebCmd").Cmd.openChatBottom(a);d("WAWebComposeBoxActions").ComposeBoxActions.focus(a)});return l.apply(this,arguments)}g.DebugConvertToLid=a}),98);
__d("WAWebContactMenuDropdown.react",["fbt","WATimeUtils","WAWebABProps","WAWebBizGatingUtils","WAWebBlockContactUtils","WAWebBlockContants","WAWebBlocklistUtils","WAWebChatAssignmentLogEvents.flow","WAWebChatEphemerality","WAWebChatThreadLogging","WAWebCmd","WAWebContactGetters","WAWebCopyToClipboard","WAWebDebugConvertToLidChatModal.react","WAWebDeleteMenuItem.react","WAWebDevOnlyBadge.react","WAWebDropdown.react","WAWebDropdownItem.react","WAWebFrontendContactGetters","WAWebInboxFiltersGatingUtils","WAWebMessageLogQplEvents","WAWebModalManager","WAWebMuteMenuItem.react","WAWebProtobufsE2E.pb","WAWebReportContactPopup.react","WAWebReportSpamPopup.react","WAWebSendNonMessageDataRequest","WAWebSendSpamChatAction","WAWebSpamConstants","WAWebStateUtils","WAWebStreamModel","WAWebSyncGatingUtils","WAWebUseIsFeatureEnabled","WAWebWamEnumEphemeralSettingEntryPointType","WAWebWamEnumPsaMessageRemoveEntryPoint","gkx","react","useWAWebContactValues","useWAWebForceUpdate","useWAWebListener","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef;function a(a){var b,e=a.contact,f=a.onSelectMessages,g=a.enableChatThreadLogging,i=c("useWAWebForceUpdate")(),j=d("useWAWebModelValues").useModelValues(a.chat,["isPSA","mute","id","contact","isGroup","promises","isNewsletter","isParentGroup","isUser","tcToken","tcTokenTimestamp","msgs","isFavorite"]);b=d("useWAWebContactValues").useContactValues(a.contact.id,[(b=d("WAWebContactGetters")).getId,b.getIsBusiness,b.getName,d("WAWebFrontendContactGetters").getIsContactBlocked,b.getIsMe,b.getIsMyContact,d("WAWebFrontendContactGetters").getBusinessProfile]);var n=b[0],o=b[1];b[2];var p=b[3],q=b[4];b[5];var r=b[6],s=m(null);d("useWAWebListener").useListener(d("WAWebStreamModel").Stream,"change:displayInfo",i);l(function(){g===!0&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"chatOverflowClicks",ts:d("WATimeUtils").unixTime(),chatId:j.id}])},[g,j.id]);var t=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION"),u=function(){d("WAWebSendSpamChatAction").sendReport({chat:j,spamFlow:d("WAWebSpamConstants").SpamFlow.OverflowMenuReport}),d("WAWebModalManager").ModalManager.close()},v=function(){d("WAWebSendSpamChatAction").sendSpamBlockClear(j,d("WAWebSpamConstants").SpamFlow.OverflowMenuReport),d("WAWebModalManager").ModalManager.close()},w=function(){if(d("WAWebBlocklistUtils").isRBIRevampedBlockReportDesignEnabled()){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebReportContactPopup.react").ReportContactPopupV2,{chat:j,spamFlow:d("WAWebSpamConstants").SpamFlow.OverflowMenuReport}));return}d("WAWebModalManager").ModalManager.open((r==null?void 0:r.isBizBot3p)===!0?k.jsx(c("WAWebReportSpamPopup.react"),{isBizBot3p:!0,isMessage:!1,onReport:u,onReportBlockClear:v,onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}):k.jsx(c("WAWebReportSpamPopup.react"),{isMessage:!1,isBusiness:o,isGroupChat:!1,onReport:u,onReportBlockClear:v,onCancel:function(){return d("WAWebModalManager").ModalManager.close()}}))},x=function(){d("WAWebCmd").Cmd.ephemeralDrawer(d("WAWebStateUtils").unproxy(a.chat),!1,d("WAWebWamEnumEphemeralSettingEntryPointType").EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_OVERFLOW)};b=function(){var b=[];t&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){d("WAWebCmd").Cmd.assignChat(j,d("WAWebChatAssignmentLogEvents.flow").ChatAssignmentEntryPointType.CONVERSATION_MENU)},children:h._("__JHASH__AwRjMee6qj7__JHASH__")},"assignChat"));j.isPSA||b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:function(){o&&d("WAWebMessageLogQplEvents").qplStartProfileView("ToolsMenu"),d("WAWebCmd").Cmd.chatInfoDrawer(j)},testid:void 0,children:h._("__JHASH__ocgQKO3F0P8__JHASH__")},"info"));o&&(d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(n)&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.merchantDetailsDrawer(n)},children:h._("__JHASH__GEW-b_5vLT1__JHASH__")},"merchantDetails")));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:f,children:h._("__JHASH__bSItAEtwYkW__JHASH__")},"select"));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(j)},children:h._("__JHASH__2X2ZhctfAUh__JHASH__")},"close"));j.mute.canMute()&&b.push(k.jsx(c("WAWebMuteMenuItem.react"),{onMute:function(a){j.isPSA?d("WAWebCmd").Cmd.muteChatFromEntryPoint(j,a,3):d("WAWebCmd").Cmd.muteChat(j,a)},mute:j.mute,chat:j},"mute"));d("WAWebABProps").getABPropConfigValue("add_dm_to_chat_overflow_menu")&&d("WAWebChatEphemerality").shouldShowEphemeralSetting(a.chat)&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:x,children:h._("__JHASH__SbyuHS547u5__JHASH__")},"disappearingMessages"));b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.clearChat(j)},children:h._("__JHASH__zCXeZd-ao8X__JHASH__")},"clear"));b.push(k.jsx(c("WAWebDeleteMenuItem.react"),{onDeleteOrExit:function(){return d("WAWebCmd").Cmd.deleteOrExitChatFromEntryPoint(j,d("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.DELETE_ALL_FROM_CONVERSATION)},chat:j},"delete"));j.canToggleFavorite()&&d("WAWebInboxFiltersGatingUtils").inboxFavoritesManagementEnabled()&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.favoriteChat(j,!j.isFavorite)},children:j.isFavorite?h._("__JHASH__JwzX1VIdfl0__JHASH__"):h._("__JHASH__TSuLGp-v849__JHASH__")},"favorite"));q||(!j.isPSA&&!j.id.isBot()&&b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:w,children:h._("__JHASH__0LWVgvzVjNg__JHASH__")},"report")),j.id.isBot()||b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:p?function(){return d("WAWebBlockContactUtils").handleUnblock(e,d("WAWebBlockContants").BlockEntryPoint.OverflowMenuBlock)}:function(){return d("WAWebBlockContactUtils").handleBlock(j,d("WAWebBlockContants").BlockEntryPoint.OverflowMenuBlock)},children:p?h._("__JHASH__ql6Ff5i9w6g__JHASH__"):h._("__JHASH__vYOcznEwFoX__JHASH__")},"block")));!c("gkx")("26258")&&!j.isGroup&&!j.id.isLid()&&b.push(k.jsx(d("WAWebDebugConvertToLidChatModal.react").DebugConvertToLid,{chat:j},"convertToLid"));c("gkx")("26258")||b.push(k.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(j.id.toString())},children:k.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Chat ID"})},"chat-copy-id"));return b};return a.toContextMenuManager?k.jsx("div",{ref:s,"data-testid":void 0,children:b()}):k.jsx(d("WAWebDropdown.react").Dropdown,{ref:function(a){s.current=a},type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:b()},"ContactMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebDebugParticipantsListModal.react",["WAWebApiContact","WAWebConfirmPopup.react","WAWebDevOnlyBadge.react","WAWebDropdownItem.react","WAWebModalManager","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.participants;return i.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){return d("WAWebModalManager").ModalManager.open(i.jsx(j,{participants:b}))},children:i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Show participants"})})}a.displayName=a.name+" [from "+f.id+"]";function j(a){a=a.participants;a=a.map(function(a){return d("WAWebWidFactory").toUserWid(a.id)});var b=a.filter(function(a){return!a.isLid()});a=a.filter(function(a){return a.isLid()});return i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:"Debug Participants List",okText:"Close",onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:i.jsxs("div",{className:"x1jn0hjm x14aock7 x1rife3k",children:[i.jsxs("h2",{children:["Phone JIDs (",b.length,")"]}),b.map(function(a,b){return i.jsx("div",{children:a.toString()},b)}),i.jsx("br",{}),i.jsxs("h2",{children:["LID JIDs (",a.length,")"]}),a.map(function(a,b){return i.jsx("div",{children:k(a)},b)})]})})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b;b=(b=(b=d("WAWebApiContact").getPhoneNumber(a))==null?void 0:b.toString())!=null?b:"N/A";return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"x1rg5ohu x1oysuqx",children:a.toString()}),i.jsxs("span",{children:["phone: ",b]})]})}g.DebugParticipantsListMenu=a}),98);
__d("WAWebConversationMenus",["fbt","WAWebABProps","WAWebBlocklistUtils","WAWebChatAssignmentLogEvents.flow","WAWebChatAssignmentUtils","WAWebChatEphemerality","WAWebChatGroupUtils","WAWebCmd","WAWebCopyToClipboard","WAWebDebugParticipantsListModal.react","WAWebDeleteMenuItem.react","WAWebDevOnlyBadge.react","WAWebDropdownItem.react","WAWebGroupType","WAWebInboxFiltersGatingUtils","WAWebMuteMenuItem.react","WAWebProtobufsE2E.pb","WAWebSendNonMessageDataRequest","WAWebSpamConstants","WAWebStateUtils","WAWebSuspendedGroupUtils","WAWebSyncGatingUtils","WAWebWamEnumEphemeralSettingEntryPointType","gkx","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a,b){var e,f=[],g=function(){d("WAWebCmd").Cmd.ephemeralDrawer(d("WAWebStateUtils").unproxy(a),!1,d("WAWebWamEnumEphemeralSettingEntryPointType").EPHEMERAL_SETTING_ENTRY_POINT_TYPE.CHAT_OVERFLOW)};d("WAWebChatAssignmentUtils").canAssignChats()&&f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){d("WAWebCmd").Cmd.assignChat(a,d("WAWebChatAssignmentLogEvents.flow").ChatAssignmentEntryPointType.CONVERSATION_MENU)},children:h._("__JHASH__AwRjMee6qj7__JHASH__")},"assignChat"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.chatInfoDrawer(a)},children:((e=a.groupMetadata)==null?void 0:e.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP?h._("__JHASH__lj5PxT_IjQN__JHASH__"):h._("__JHASH__aBmR51CpRtQ__JHASH__")},"info"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:b,children:h._("__JHASH__bSItAEtwYkW__JHASH__")},"select"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(a)},children:h._("__JHASH__2X2ZhctfAUh__JHASH__")},"close"));a.mute.canMute()&&f.push(j.jsx(c("WAWebMuteMenuItem.react"),{onMute:function(b){return d("WAWebCmd").Cmd.muteChat(a,b)},mute:a.mute,chat:a},"mute"));d("WAWebABProps").getABPropConfigValue("add_dm_to_chat_overflow_menu")&&d("WAWebChatEphemerality").shouldShowEphemeralSetting(a)&&((e=a.groupMetadata)==null?void 0:e.canSetEphemeralSetting())&&f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:g,children:h._("__JHASH__DBbHtG2VesT__JHASH__")},"disappearingMessages"));f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.clearChat(a)},children:h._("__JHASH__zCXeZd-ao8X__JHASH__")},"clear"));b=function(){d("WAWebBlocklistUtils").isRBIForGroupsEnabled()&&!d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(a)&&!a.isReadOnly?d("WAWebSuspendedGroupUtils").openLeaveAndReportGroupModal(a,d("WAWebSpamConstants").SpamFlow.GroupOverflowMenuLeaveReportUpsell):d("WAWebCmd").Cmd.deleteOrExitChat(a)};f.push(j.jsx(c("WAWebDeleteMenuItem.react"),{onDeleteOrExit:b,chat:a},"delete"));a.canToggleFavorite()&&d("WAWebInboxFiltersGatingUtils").inboxFavoritesManagementEnabled()&&f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.favoriteChat(a,!a.isFavorite)},children:a.isFavorite?h._("__JHASH__JwzX1VIdfl0__JHASH__"):h._("__JHASH__TSuLGp-v849__JHASH__")},"favorite"));if(!c("gkx")("26258")&&a.isGroup){g=(e=a.groupMetadata)==null?void 0:e.participants;g!=null&&f.push(j.jsx(d("WAWebDebugParticipantsListModal.react").DebugParticipantsListMenu,{participants:g},"showParticipants"))}c("gkx")("26258")||f.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{addSpacing:!0,testid:void 0,action:function(){void d("WAWebCopyToClipboard").copyTextToClipboard(a.id.toString())},children:j.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy Chat ID"})},"chat-copy-id"));return f}function b(a,b){var e=[];e.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.chatInfoDrawer(a)},children:h._("__JHASH__n10V6InzDtc__JHASH__")},"info"));e.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:b,children:h._("__JHASH__bSItAEtwYkW__JHASH__")},"select"));c("gkx")("26258")||e.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.closeChat(a)},children:h._("__JHASH__2X2ZhctfAUh__JHASH__")},"close"));e.push(j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){return d("WAWebCmd").Cmd.clearChat(a)},children:h._("__JHASH__zCXeZd-ao8X__JHASH__")},"clear"));e.push(j.jsx(c("WAWebDeleteMenuItem.react"),{onDeleteOrExit:function(){return d("WAWebCmd").Cmd.deleteOrExitChat(a)},chat:a},"delete"));return e}g.groupMenu=a;g.broadcastMenu=b}),226);
__d("WAWebChatSearchMessageCell.react",["WATypeUtils","WAWebChatCell.react","WAWebChatLastMsg.react","WAWebChatMessageSearch","WAWebChatTimestamp.react","WAWebDomScroll","WAWebFocusIndicator","WAWebFocusTracer","WAWebFrontendMsgGetters","WAWebKeyboardHotKeys.react","WAWebMsgGetters","WAWebStateUtils","react","useWAWebListener","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useRef,l=b.useState;function a(a){var b,e,f=a.msg,g=a.author,h=a.onClick;b=d("useWAWebMsgValues").useMsgValues(a.msg.id,[(b=d("WAWebMsgGetters")).getId,b.getIsSentByMe,(e=d("WAWebFrontendMsgGetters")).getSenderObj,e.getRtl,e.getDir,b.getType,b.getT]);var i=b[0];b[1];b[2];b[3];b[4];b[5];b[6];var m=e.getChat(f),n=k(null),o=k(null);b=l(function(){return a.active?a.active.value===f:!1});e=b[0];var p=b[1];b=function(a,b){if(a==="focus"){var e=o.current;c("WAWebFocusTracer").focus(e);b&&e&&d("WAWebDomScroll").scrollIntoViewIfNeeded(e)}p(!!a)};d("useWAWebListener").useListener(a.active,i.toString(),b);var q=function(a){if(d("WATypeUtils").isFunction(h)){var b=d("WAWebChatMessageSearch").getSearchContext(m,d("WAWebStateUtils").unproxy(f));b.msg=f;h(a,m,b)}};i=function(a){a.preventDefault(),a.stopPropagation(),c("WAWebFocusIndicator").shouldIndicateFocus(),q(a)};b=function(a){(a=n.current)==null?void 0:a.indicateFocus()};var r=function(){return!1},s=j.jsx(c("WAWebChatTimestamp.react"),{msg:f});g=j.jsx(c("WAWebChatLastMsg.react"),{msg:f.safe(),msgType:"Search",author:g,searchQuery:a.searchText?[a.searchText]:[]});i={enter:i};return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:i,onFocus:b,ref:o,children:j.jsx(c("WAWebChatCell.react"),{ref:n,contextEnabled:r,theme:"chat-search",active:!!e,primaryDetail:s,secondary:g,primary:void 0,onClick:q})})}a.displayName=a.name+" [from "+f.id+"]";g.Message=a}),98);
__d("WAWebChatSearchMessageWithAuthorCell.react",["WAWebChatSearchMessageCell.react","WAWebFrontendContactGetters","WAWebFrontendMsgGetters","WAWebMsgGetters","react","useWAWebContactValues","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=d("useWAWebMsgValues").useMsgValues(a.msg.id,[d("WAWebMsgGetters").getId]);b=b[0];var c=d("WAWebFrontendMsgGetters").getChat(a.msg),e=d("useWAWebContactValues").useContactValues(a.contact.id,[d("WAWebFrontendContactGetters").getFormattedShortName]);e=e[0];return i.jsx(d("WAWebChatSearchMessageCell.react").Message,{msg:a.msg,chat:c,author:e,searchText:a.searchText,onClick:a.onClick,active:a.active},b.toString())}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatSearchMessageList.react",["WAWebChatSearchMessageCell.react","WAWebChatSearchMessageWithAuthorCell.react","WAWebCmd","WAWebColumnChangeDispatch","WAWebComposeBoxActions","WAWebFindChatAction","WAWebFlatList.react","WAWebFrontendMsgGetters","WAWebKeyboardHotKeys.react","WAWebMsgGetters","WAWebTabOrder","react","useWAWebUIM"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=d("WAWebFlatList.react").FlatListFactory();function o(a){var b=a.msg,e=a.onClick,f=a.searchText;a=a.selection;return d("WAWebMsgGetters").getSender(b)&&d("WAWebMsgGetters").getIsGroupMsg(b)&&!d("WAWebMsgGetters").getIsNotification(b)&&!d("WAWebMsgGetters").getIsSentByMe(b)?j.jsx(c("WAWebChatSearchMessageWithAuthorCell.react"),{contact:b.senderObj,msg:b,chat:d("WAWebFrontendMsgGetters").getChat(b),searchText:f,onClick:e,active:a},b.id.toString()):j.jsx(d("WAWebChatSearchMessageCell.react").Message,{msg:b,chat:d("WAWebFrontendMsgGetters").getChat(b),searchText:f,onClick:e,active:a},b.id.toString())}o.displayName=o.name+" [from "+f.id+"]";e=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.selection,f=a.ftsResult,g=a.searchText,h=a.onFocusSearch,i=c("useWAWebUIM")(),p=m(null),q=function(a,b,c){a.preventDefault(),a.stopPropagation(),d("WAWebFindChatAction").findChat(b.id,"chatSearchMessageList").then(function(a){d("WAWebColumnChangeDispatch").Column.column===2&&(i==null?void 0:i.requestDismiss()),d("WAWebComposeBoxActions").ComposeBoxActions.focus(a),d("WAWebCmd").Cmd.openChatAt(a,c)})},r=function(){return f||[]},s=function(){e.reset(!0)},t=function(){e.setFirst(!0)},u=function(a){if(a.target!==p.current)return;e.index<0?t():e.reset(!0)},v=function(a){a&&(a.preventDefault(),a.stopPropagation());a=e.next();e.index!==a&&e.setNext(!0)},w=function(a){a&&(a.stopPropagation(),a.preventDefault());a=e.prev();a>-1?e.setPrev(!0):h()},x=function(){return f.map(function(a){return{itemKey:a.id.toString(),msg:a}})};k(function(){e.init(r())},[]);l(b,function(){return{focusFirst:t,restoreFocus:s}});b={down:function(a){return v(a)},up:function(a){return w(a)}};return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:b,onFocus:u,"data-tab":d("WAWebTabOrder").TAB_ORDER.CHAT_SEARCH_MSG_LIST,ref:p,children:j.jsx(n,{flatListController:a.flatListController,direction:"vertical",data:x(),renderItem:function(a){a=a.msg;return j.jsx(o,{msg:a,selection:e,searchText:g,onClick:q})},forceConsistentRenderCount:!1})})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebChatSearchDrawer.react",["fbt","Promise","WAAbortError","WAFtsIsSearchQueryEligibleForMessageSearch","WALogger","WAPromiseRaceAbort","WAShiftTimer","WAWebBackendErrors","WAWebChatListSearch.react","WAWebChatMessageSearch","WAWebChatSearchMessageList.react","WAWebCmd","WAWebComposeBoxActions","WAWebContactGetters","WAWebDatePickerContainer.react","WAWebDesktopUpsellPlatformAwareHooks","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDropdown.react","WAWebEmptyState.react","WAWebFlatList.react","WAWebFlatListController","WAWebFlex.react","WAWebFocusIndicator","WAWebFocusTracer","WAWebFrontendConstants","WAWebFrontendMsgGetters","WAWebFtsConstants","WAWebFtsMsgsCollection","WAWebHistorySyncComponents.react","WAWebKeyboardHotKeys.react","WAWebMsgCollection","WAWebSearchByDateUtils","WAWebSearchByTypeAndDateGatingUtils","WAWebSingleSelection","WAWebSpinner.react","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","asyncToGeneratorRuntime","react","useWAWebDebouncedCallback","useWAWebForceUpdate","useWAWebLazyRef","useWAWebListener","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[SBTD] Message not found for getClosestMessageFromDate"]);l=function(){return a};return a}e=k||d("react");var m=j||(j=c("react")),n=e.forwardRef,o=e.useEffect,p=e.useRef,q=e.useState,r={flexNone:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",flexBasis:"xdl72j9",$$css:!0}};function s(a){var b=a.chat,e=a.resultsUnavailable,f=a.searching;a=a.searchText;a=(a||"").trim();if(c("WAFtsIsSearchQueryEligibleForMessageSearch")(a)){if(f)return m.jsx(d("WAWebEmptyState.react").SearchingMessages,{});else if(e)return m.jsx(d("WAWebEmptyState.react").SearchMessagesUnavailable,{});return m.jsx(d("WAWebEmptyState.react").SearchMessages,{})}return d("WAWebEmptyState.react").BeforeSearchMessages(b.title(),b.isGroup,d("WAWebContactGetters").getIsMe(b.contact))}s.displayName=s.name+" [from "+f.id+"]";function a(a,e){var f=a.chat;a=c("useWAWebForceUpdate")();var g=c("useWAWebUIM")(),j=c("useWAWebUnmountSignal")(),k=q(""),n=k[0],t=k[1];k=q(!1);var u=k[0],v=k[1];k=q(!1);var w=k[0],x=k[1];k=q(null);var y=k[0],z=k[1],A=(k=c("useWAWebLazyRef"))(function(){return new(c("WAWebFlatListController"))()}),B=k(function(){return new(c("WAWebFtsMsgsCollection"))(f)}),C=p(null),D=k(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.id.toString()})}),E=p(!1),F=p({}),G=p(null),H=p(null),I=p(null),J=p(null),K=k(function(){return new(d("WAShiftTimer").ShiftTimer)(function(){var a=F.current;a.searchText!==void 0&&t(a.searchText);a.searching!==void 0&&v(a.searching);a.resultsUnavailable!==void 0&&x(a.resultsUnavailable);F.current={}})}),L=function(a,b){b===void 0&&(b=75),Object.assign(F.current,a),a.searching===!0?K.current.debounce(0):K.current.debounce(b)},M=function(a){return a==null||!(a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>a.scrollHeight-a.clientHeight)?!1:!(!B.current.hasMoreMsgs||E.current||u||B.current.searchPromise||!c("WAFtsIsSearchQueryEligibleForMessageSearch")((n||"").trim()))},N=function(){var a=F.current;if("searching"in a){return(a=a.searching)!=null?a:!1}return u};k=function(a){if(a.repeat)return;if(!G.current)return;if(C.current&&!C.current.cursorIsAtEnd())return;a.preventDefault();a.stopPropagation();c("WAWebFocusIndicator").shouldIndicateFocus();(a=G.current)==null?void 0:a.focusFirst()};var O=function(a){a.preventDefault();a=B.current.head();if(!a)return;var b=d("WAWebFrontendMsgGetters").getChat(a);a=d("WAWebChatMessageSearch").getSearchContext(b,a);d("WAWebComposeBoxActions").ComposeBoxActions.focus(b);d("WAWebCmd").Cmd.openChatAt(b,a)},P=function(){c("WAWebFocusIndicator").shouldIndicateFocus(),c("WAWebFocusTracer").focus(C.current)},Q=function(){g==null?void 0:g.requestDismiss()},R=function(a){c("WAWebFocusIndicator").maybeIndicateFocus(H.current)},S=function(){return Math.round(window.innerHeight/d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT)+1},T=c("useWAWebDebouncedCallback")(function(){var a;E.current=!1;var e=(n||"").trim();if(!c("WAFtsIsSearchQueryEligibleForMessageSearch")(e))return;(a=J.current)==null?void 0:a.abort();J.current=new AbortController();a=J.current.signal;var g=(i||(i=b("Promise"))).resolve().then(function(){N()||L({searching:!0})}).then(function(){return B.current.search({chat:f,count:S(),searchTerm:e})});I.current=c("WAPromiseRaceAbort")(g,a).then(function(a){if(j.aborted)throw new(d("WAAbortError").AbortError)();a&&!a.canceled&&e===n.trim()&&L({searching:!1,resultsUnavailable:!1})})["catch"](d("WAAbortError").catchAbort(function(){}))["finally"](function(){I.current=void 0,J.current=void 0})["catch"](function(a){if(E.current)return;L({searching:!1,resultsUnavailable:a instanceof d("WAWebBackendErrors").E404})})},d("WAWebFtsConstants").FTS_TYPING_DELAY),U=function(){var a;T.cancel();B.current.resetSearch();B.current["delete"]();(a=J.current)==null?void 0:a.abort();E.current=!1;t("");v(!1)},V=function(a){a=a.trim();if(c("WAFtsIsSearchQueryEligibleForMessageSearch")(a))T(),E.current=!0,u||L({searching:!0});else{T.cancel();B.current.resetSearch();B.current["delete"]();(a=J.current)==null?void 0:a.abort();E.current=!1;u&&L({searching:!1,resultsUnavailable:!1})}},W=function(a){if(!a){U();return}if(a===n)return;var b={searchText:a,resultsUnavailable:!1};V(a);t(a);L(b)},aa=function(a){M(a.currentTarget)&&(T(),E.current=!0)};o(function(){return function(){var a;T.cancel();B.current["delete"](!0);(a=J.current)==null?void 0:a.abort();K.current.cancel()}},[]);d("useWAWebListener").useListener(B.current,["bulk_remove"],a);a=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("search_results");var X=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformCheck();a=a&&X;X=B.current.toArray();w=X.length?null:m.jsx(s,{chat:f,searchText:n,searching:u,resultsUnavailable:w});if(w==null){var Y=n?n.trim():null;w=m.jsx(c("WAWebChatSearchMessageList.react"),{ref:G,flatListController:A.current,isSearching:!!Y,searchText:Y,ftsResult:X,selection:D.current,onFocusSearch:P})}Y={down:k};D=u&&X.length?m.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[r.flexNone,d("WAWebUISpacing").uiPadding.vert24],children:m.jsx(d("WAWebSpinner.react").Spinner,{stroke:6,size:24})}):null;var Z;P=(n||"").trim();a!==!0&&c("WAFtsIsSearchQueryEligibleForMessageSearch")(P)&&(Z=m.jsx(d("WAWebHistorySyncComponents.react").HistorySyncChatSearchIncompletePlaceholder,{}));k=d("WAWebSearchByTypeAndDateGatingUtils").searchByDateEnabled();var $=function(){z(null)},ba=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSearchByDateUtils").getClosestMessageFromDate(f.id.toString(),a));$();if(a){var b=d("WAWebMsgCollection").MsgCollection.get(a.toString());b=d("WAWebChatMessageSearch").getSearchContext(f,b||a);b.highlightMentionMsg=!0;b.enableAnimation=!1;b&&d("WAWebCmd").Cmd.openChatAt(f,b)}else d("WALogger").DEV(l()),d("WAWebCmd").Cmd.openChatBottom(f)});return function(b){return a.apply(this,arguments)}}();X=function(){var a;a=(a=C.current)==null?void 0:a.getCalendarElementRef();z({dirY:d("WAWebDropdown.react").DirY.TOP,dirX:d("WAWebDropdown.react").DirX.CENTER,type:d("WAWebDropdown.react").MenuType.DatePicker,menu:m.jsx(d("WAWebDatePickerContainer.react").DatePickerContainer,{onDateSelected:function(a){ba(a)}}),flipOnRTL:!0,anchor:a==null?void 0:a.current})};a=y?m.jsx(d("WAWebUimUie.react").UIE,{displayName:"DatePicker",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:$,children:m.jsx(c("WAWebUimUieMenu.react"),{contextMenu:y})}):null;return m.jsxs(c("WAWebDrawer.react"),{ref:e,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__2mjpAs6w3Rr__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:Q}),m.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:Y,onFocus:R,ref:H,className:"x1iek97a x1c4vz4f x2lah0s xdl72j9",children:m.jsx(d("WAWebChatListSearch.react").ListSearch,{ref:C,type:d("WAWebChatListSearch.react").ListSearchType.CHAT_MSG_SEARCH,onSearch:W,onEnter:O,loading:u,focusOnMount:!0,showJumpToDateButton:k,onJumpToDateButtonClicked:X})}),a,m.jsxs(c("WAWebDrawerBody.react"),{flatListControllers:[A.current],className:"x1vjfegm x78zum5 xdt5ytf x1iyjqo2 x1odjw0f x150wa6m",onScroll:aa,id:"pane-side",children:[w,D,Z]})]},"search-modal")}a.displayName=a.name+" [from "+f.id+"]";e=n(a);g["default"]=e}),226);
__d("WAWebBroadcastMenuDropdown.react",["WAWebConversationMenus","WAWebDropdown.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");b=i.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var c=a.chat,e=a.onSelectMessages;a=a.toContextMenuManager;a=a===void 0?!1:a;c=d("WAWebConversationMenus").broadcastMenu(c,e);return a?i.jsx("div",{ref:b,children:c}):i.jsx(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,children:c},"BroadcastMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebShopIcon",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="shop";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M11.9071327,2 C14.0034625,2 15.2227003,3.16428094 15.43674,5.27247106 L15.9324472,5.27272727 C17.9567472,5.27272727 19.6573296,6.79482129 19.8808762,8.80674021 L20.7899671,16.9885584 C21.0322623,19.1692155 19.4609095,21.1334065 17.2802524,21.3757017 C17.1345745,21.3918882 16.9881125,21.4 16.8415381,21.4 L6.97272727,21.4 C4.77865058,21.4 3,19.6213494 3,17.4272727 C3,17.2806983 3.00811182,17.1342363 3.02429825,16.9885584 L3.93338916,8.80674021 C4.14948416,6.86188526 5.7457871,5.37474446 7.68050995,5.27776269 L7.88181818,5.27272727 L8.37752533,5.27247106 C8.59156505,3.16428094 9.81080288,2 11.9071327,2 Z M15.9324472,6.67272727 L7.88181818,6.67272727 L7.71207742,6.67826233 C6.47693062,6.7590403 5.46330025,7.71507958 5.32482639,8.96134435 L4.41573548,17.1431625 C4.40525319,17.2375031 4.4,17.3323516 4.4,17.4272727 C4.4,18.8481508 5.55184923,20 6.97272727,20 L16.8415381,20 C16.9364592,20 17.0313077,19.9947468 17.1256483,19.9842645 C18.5378359,19.8273548 19.5554396,18.5553501 19.3985299,17.1431625 L18.489439,8.96134435 C18.3446708,7.65843118 17.2433783,6.67272727 15.9324472,6.67272727 Z M14.7555208,8.54553713 L14.8506156,8.55002336 C15.2346916,8.59412138 15.5102982,8.94122503 15.4662002,9.32530107 C15.2082527,11.571921 13.9710827,12.8090909 11.9071327,12.8090909 C9.84318262,12.8090909 8.6060127,11.571921 8.34806513,9.32530107 C8.30396711,8.94122503 8.57957375,8.59412138 8.96364979,8.55002336 C9.34772583,8.50592534 9.69482948,8.78153199 9.7389275,9.16560802 C9.91936771,10.7371699 10.5912887,11.4090909 11.9071327,11.4090909 C13.2229767,11.4090909 13.8948976,10.7371699 14.0753379,9.16560802 C14.1120862,8.84554466 14.3592551,8.60080726 14.6628902,8.55363847 L14.7555208,8.54553713 Z M11.9071327,3.4 C10.6172322,3.4 9.94591364,3.96060645 9.78307298,5.27122352 L14.0311924,5.27122352 C13.8683517,3.96060645 13.1970332,3.4 11.9071327,3.4 Z",fill:"currentColor",fillRule:"nonzero"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ShopIcon=a}),98);
__d("WAWebCommerceButton.react",["fbt","WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileTypes","WAWebBusinessProfileUtils","WAWebCatalogEntrypointIcon","WAWebDrawerManager","WAWebMenuBar.react","WAWebProductCatalogContext","WAWebProductCatalogSession","WAWebProductDetailsFlowLoadable","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebShopIcon","WAWebTabOrder","WAWebWamEnumBizPlatform","WAWebWamEnumCatalogEntryPoint","react","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.chat,e=c("useWAWebUIM")();a=b.contact.businessProfile;if(d("WAWebBusinessProfileUtils").hasShop(a)){if(d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").isShopBanned(a))return null;var f=function(a){a.preventDefault(),d("WAWebBusinessProfileUtils").goToShop(b.contact.businessProfile)};return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:j.jsx(d("WAWebShopIcon").ShopIcon,{}),title:h._("__JHASH__rwhgXpZEUAM__JHASH__"),onClick:f})}if((a==null?void 0:(f=a.profileOptions)==null?void 0:f.commerceExperience)===d("WAWebBusinessProfileTypes").CommerceExperienceTypes.CATALOG||(a==null?void 0:a.catalogStatus)===d("WAWebBusinessProfileCollection").CATALOG_EXISTS){f=function(a){a.preventDefault();d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"ChatHeader"}}});a=d("WAWebProductCatalogContext").buildProductCatalogContext(new(d("WAWebProductCatalogSession").ProductCatalogSession)(),d("WAWebWamEnumBizPlatform").BIZ_PLATFORM.SMB,d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_CHAT);var c=b.contact.id;d("WAWebDrawerManager").DrawerManager.openDrawerRight(j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{chat:b,catalogOwnerJid:c.toJid()}),{transition:"slide-left",uim:e,newDrawerContext:a})};return j.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:j.jsx(d("WAWebCatalogEntrypointIcon").CatalogEntrypointIcon,{}),title:h._("__JHASH__OxikoWSe1O9__JHASH__"),onClick:f})}return null}a.displayName=a.name+" [from "+f.id+"]";g.CommerceButton=a}),226);
__d("WAWebGroupMenuDropdown.react",["WATimeUtils","WAWebChatThreadLogging","WAWebConversationMenus","WAWebDropdown.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect;b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var c=a.chat,e=a.onSelectMessages;k(function(){d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"chatOverflowClicks",ts:d("WATimeUtils").unixTime(),chatId:c.id}])},[c.id]);e=d("WAWebConversationMenus").groupMenu(c,e);return a.toContextMenuManager?j.jsx("div",{ref:b,children:e}):j.jsx(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,testid:void 0,children:e},"GroupMenuDropdown")}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebHeader.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={chatControls:"_ami8",chatAvatar:"_ami9",chatHeader:"_amid",chatHeaderBorderOverride:"_aqbz",chatBody:"_amie",chatMain:"_amif",chatTitle:"_amig",menuItemContainer:"_amih"};b=a;g["default"]=b}),98);
__d("WAWebHeader.react",["fbt","WAWebABProps","WAWebBotGating","WAWebBroadcastMenuDropdown.react","WAWebBusinessProfileCollection","WAWebChatAssignmentNux.react","WAWebChatAssignmentUtils","WAWebChatGroupUtils","WAWebChatSearchDrawer.react","WAWebClassnames","WAWebCmd","WAWebCommerceButton.react","WAWebCommunityGatingUtils","WAWebConfirmPopup.react","WAWebConnModel","WAWebContactGetters","WAWebContactMenuDropdown.react","WAWebDesktopUpsellCallingUnavailable.react","WAWebDesktopUpsellPlatformAwareHooks","WAWebDetailImage.react","WAWebDivider.react","WAWebDrawerManager","WAWebDropdown.react","WAWebFrontendContactGetters","WAWebGroupChatImage.react","WAWebGroupMenuDropdown.react","WAWebGroupSubtitle.react","WAWebGroupType","WAWebHeader.scss","WAWebInfoFlowLoadable","WAWebKeyboardTabUtils","WAWebL10N","WAWebMenuBar.react","WAWebMenuIcon","WAWebMessageLogQplEvents","WAWebModalManager","WAWebMuteGetters","WAWebName.react","WAWebNewsletterChatHeaderSubtitle.react","WAWebNewsletterChatMenuDropdown.react","WAWebNewsletterConversationPanelHeader.react","WAWebNewsletterGatingUtils","WAWebNotificationsOffIcon","WAWebNotificationsOnIcon","WAWebPnhVoip","WAWebSearchAltIcon","WAWebStackedCirclesImage.react","WAWebStateUtils","WAWebSubgroupSwitcherIcon.react","WAWebTabOrder","WAWebTopMenuRedesignGatingUtils","WAWebUISpacing","WAWebUimUieMenu.react","WAWebUseBusinessProfile.react","WAWebUserSubtitle.react","WAWebVideoCallIcon","WAWebVoiceCallIcon","WAWebVoip","WAWebVoipUtils","WAWebWamEnumProfileEntryPoint","asyncToGeneratorRuntime","cr:5922","gkx","lodash","react","useWAWebContactValues","useWAWebForceUpdate","useWAWebListener","useWAWebModelValues","useWAWebMuteValues","useWAWebTimeout","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState;function o(a){var c=a.chat;a=a.onClick;var e=d("WAWebContactGetters").getIsMe(c.contact)||d("WAWebChatGroupUtils").shouldBlockCall(c);c=c.isUser?h._("__JHASH__n921A8hc3lz__JHASH__"):h._("__JHASH__vWA7Hzvttul__JHASH__");(b("cr:5922")==null?void 0:b("cr:5922").activeCall)&&(e=!0,c=h._("__JHASH__zOOfpBYUesQ__JHASH__"));return k.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:k.jsx(d("WAWebVoiceCallIcon").VoiceCallIcon,{}),onClick:a,disabled:e,title:c})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var e=a.chat;a=a.onClick;var f=d("WAWebContactGetters").getIsMe(e.contact)||d("WAWebChatGroupUtils").shouldBlockCall(e);e=e.isUser?h._("__JHASH__9HiHAbXXAAA__JHASH__"):h._("__JHASH__k41SEO_n77u__JHASH__");(b("cr:5922")==null?void 0:b("cr:5922").activeCall)&&(f=!0,e=h._("__JHASH__zOOfpBYUesQ__JHASH__"));return c("gkx")("26254")?k.jsx(d("WAWebDesktopUpsellCallingUnavailable.react").WAWebDesktopCallingMenuButton,{}):k.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:k.jsx(d("WAWebVideoCallIcon").VideoCallIcon,{}),onClick:a,disabled:f,title:e})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b,c;b=(a==null?void 0:(b=a.groupMetadata)==null?void 0:b.participants.iAmAdmin())&&((b=a.groupMetadata)==null?void 0:b.announce)?h._("__JHASH__8QEb6bbwR8F__JHASH__"):h._("__JHASH__jv1LMoRSLOC__JHASH__");var e;if(((c=a.groupMetadata)==null?void 0:c.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP){(a==null?void 0:(c=a.groupMetadata)==null?void 0:c.participants.iAmAdmin())?e=h._("__JHASH__TD6qdA9zn5C__JHASH__"):e=h._("__JHASH__dhHo5hWiU_Z__JHASH__")}else if(((c=a.groupMetadata)==null?void 0:c.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP&&((c=a.groupMetadata)==null?void 0:c.participants.iAmMember())){a=(c=a.groupMetadata)==null?void 0:c.getParentGroupChat();c=a==null?void 0:a.contact;a=c!=null?d("WAWebFrontendContactGetters").getFormattedName(c):null;a!=null&&(e=h._("__JHASH__jeucOx6ke8r__JHASH__",[h._param("community",a)]))}return(c=e)!=null?c:b}function r(a,b,c){d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(e){if(e)return;a.contact.isBusiness&&d("WAWebMessageLogQplEvents").qplStartProfileView("Header");(a.isUser||a.isBroadcast||a.isGroup||a.isNewsletter)&&d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(d("WAWebInfoFlowLoadable").InfoFlowLoadable,{chat:d("WAWebStateUtils").unproxy(a),profileEntryPoint:c,sourceGroupChatOrNewsletter:a.isGroup?a:void 0},"info-"+a.id.toString()),{transition:"slide-left",uim:b,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})})}function s(){d("WAWebDrawerManager").DrawerManager.existsDrawerRight(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight()})}function a(a){var e,f,g=a.chat,i=a.contact;a=a.onSelectMessages;var j=c("useWAWebUIM")(),t=c("useWAWebForceUpdate")(),u=m(!1),v=m(!1),w=m(null),x=m(null),y=d("useWAWebModelValues").useModelValues(g,["id","formattedTitle","presence","isUser","isNewsletter","isGroup","isBroadcast","groupMetadata","isPSA","contact","name","assignedAgent","isAssignedToMe","mute","newsletterMetadata"]),z=d("useWAWebMuteValues").useMuteValues(y.mute.id,[d("WAWebMuteGetters").getIsMuted]),A=z[0];z=d("useWAWebModelValues").useModelValues(y.presence.chatstate,["type"]);f=d("useWAWebContactValues").useContactValues(i.id,[(f=d("WAWebContactGetters")).getIsMe,f.getShowBusinessCheckmarkAsPrimary,f.getShowBusinessCheckmarkAsSecondary,f.getShouldForceBusinessUpdate,f.getShowBiz3pBotVerifiedNameAsSecondary]);var B=f[0],C=f[1],D=f[2],E=f[3];f=f[4];e=(e=d("WAWebUseBusinessProfile.react").useBusinessProfile(d("WAWebBotGating").isBizBot3pAvailable()?i.id:null,["isBizBot3p"]))!=null?e:{};e=e.isBizBot3p;f=f&&e===!0;e=d("useWAWebModelValues").useOptionalModelValues(g.newsletterMetadata,["membershipType","suspended","terminated","isSuspendedOrTerminated"]);g=c("useWAWebUnmountSignal")();var F=n(!1),G=F[0],H=F[1];F=n(null);var I=F[0];F=F[1];l(function(){function a(){return c.apply(this,arguments)}function c(){c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(y.contact.id),t()});return c.apply(this,arguments)}E&&a()},[]);var J=n(!0),K=J[0],L=J[1];J=d("useWAWebTimeout").useTimeout(function(){H(!1)},100);var M=J[0];J=function(){c("gkx")("26255")&&(H(!0),M())};var N=function(a){v.current=!0},O=function(a){if(c("gkx")("26255")){if(u.current)return;u.current=!0}},P=function(a){c("gkx")("26255")&&(v.current&&(a.preventDefault(),a.stopPropagation(),v.current=!1),u.current=!1,G&&(a.preventDefault(),a.stopPropagation()))},Q=function(a){d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(b){b&&a.preventDefault()})},R=function(a){a.preventDefault(),d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(a){a||d("WAWebDrawerManager").DrawerManager.openDrawerRight(k.jsx(c("WAWebChatSearchDrawer.react"),{chat:d("WAWebStateUtils").unproxy(y)},"chat-search-"+y.id.toString()),{transition:"slide-left",uim:j,focusType:d("WAWebKeyboardTabUtils").FocusType.TABBABLE})})},S=function(a){if(y.isUser){var b=y.contact.id.isLid()?y.contact.phoneNumber:y.contact.id;if(c("WAWebVoipUtils").checkIfCanStartCall({contact:y.contact,isVideo:a}))if(d("WAWebPnhVoip").shouldDisplayPhoneNumberHidingModal(y.contact))d("WAWebPnhVoip").displayPhoneNumberHidingModal(y.contact,a);else if(b!=null){var e;(e=c("WAWebVoip").Voip)==null?void 0:e.callStart(b,a)}}},T=function(a){if(w.current){var b=w.current.getBoundingClientRect();b=c("lodash").pick(b,["right","bottom"]);a(b)}else a(null)},U=c("gkx")("26255")?window.Native:null;d("useWAWebListener").useListener(U,["BrowserWindow:focus"],J);d("useWAWebListener").useListener(U,"BrowserWindow:move",function(){u.current&&N.apply(void 0,arguments)});d("useWAWebListener").useListener(y.contact.businessProfile,["change:profileOptions","change:catalogStatus"],t);d("useWAWebListener").useListener(c("gkx")("26255")?b("cr:5922"):null,"change:activeCall",t);d("useWAWebListener").useListener(d("WAWebConnModel").Conn,"change:isVoipInitialized",t);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"get_conversation_header_offset",T);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"update_chatlist_selection",function(){return s()});J=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("call_btn");U=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformCheck();T=J&&U;J=d("useWAWebModelValues").useModelValues(d("WAWebConnModel").Conn,["pushname"]);U=J.pushname;J=n(null);var V=J[0],aa=J[1];l(function(){if(d("WAWebChatAssignmentUtils").canAssignChats()&&y.assignedAgent!=null){var a=y.isAssignedToMe?h._("__JHASH__9n8jUt1pVOX__JHASH__"):h._("__JHASH__mAyf2Xfxd_w__JHASH__",[h._param("agentName",y.assignedAgent.name)]);aa(a)}},[U,y,y.assignedAgent,y.isAssignedToMe]);var W,X;if(y.isUser)W=k.jsx(c("WAWebContactMenuDropdown.react"),{chat:y,contact:y.contact,onSelectMessages:a,toContextMenuManager:!0,enableChatThreadLogging:!0}),X=k.jsx(c("WAWebUserSubtitle.react"),{contact:y.contact,presence:y.presence,chatstate:y.presence.chatstate,location:"title",showBusinessCheckmark:D,showVerifiedName:f,assignmentSubtitle:V,chatId:y.id});else if(y.isBroadcast)W=k.jsx(c("WAWebBroadcastMenuDropdown.react"),{chat:d("WAWebStateUtils").unproxy(y),onSelectMessages:a,toContextMenuManager:!0}),X=null;else if(y.isGroup){W=k.jsx(c("WAWebGroupMenuDropdown.react"),{chat:d("WAWebStateUtils").unproxy(y),onSelectMessages:a,toContextMenuManager:!0});((J=y.groupMetadata)==null?void 0:J.isSuspendedOrTerminated())?X=null:d("WAWebABProps").getABPropConfigValue("ugr_enabled")&&((U=y.groupMetadata)==null?void 0:U.isUnnamed)?z.type==="typing"?X=k.jsx(c("WAWebGroupSubtitle.react"),{chatstate:y.presence.chatstate,groupMetadata:y.groupMetadata,presence:y.presence,placeholder:q(y),location:"title",assignmentSubtitle:V,chatId:y.id}):X=null:X=k.jsx(c("WAWebGroupSubtitle.react"),{chatstate:y.presence.chatstate,groupMetadata:y.groupMetadata,presence:y.presence,placeholder:q(y),location:"title",assignmentSubtitle:V,chatId:y.id})}else y.isNewsletter&&(W=(e==null?void 0:e.isSuspendedOrTerminated)?null:k.jsx(d("WAWebNewsletterChatMenuDropdown.react").NewsletterChatMenuDropdown,{chat:y,toContextMenuManager:!0,onSelectMessages:a}),X=(e==null?void 0:e.suspended)===!0?null:k.jsx(c("WAWebNewsletterChatHeaderSubtitle.react"),{newsletterMetadata:e}));var Y;if(I&&W){f={menu:W,anchor:I,autoFocus:!0,dirX:c("WAWebL10N").isRTL()?d("WAWebDropdown.react").DirX.RIGHT:d("WAWebDropdown.react").DirX.LEFT,dirY:d("WAWebDropdown.react").DirY.BOTTOM,offsetY:5,type:d("WAWebDropdown.react").MenuType.DropdownMenu};Y=k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:f})}J=null;U=null;if(c("gkx")("26255")&&((z=y.groupMetadata)==null?void 0:z.groupType)!==d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&!B&&!y.isNewsletter&&!y.id.isBot()){V=null;a=null;c("WAWebVoipUtils").isVideoCallEnabledForContact(y.contact)?(V=function(){return S(!1)},a=function(){return S(!0)}):!d("WAWebConnModel").Conn.isVoipInitialized&&d("WAWebContactGetters").getIsUser(i)&&(V=a=function(){return d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._("__JHASH__gg2S2m1xexP__JHASH__"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._("__JHASH__mBwGZBdOP2i__JHASH__")}))});V&&a&&(J=k.jsx(o,{chat:y,onClick:V}),U=k.jsx(p,{chat:y,onClick:a}))}c("gkx")("26254")&&((e=y.groupMetadata)==null?void 0:e.groupType)!==d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&!B&&!y.isNewsletter&&!y.id.isBot()&&T===!0&&(U=k.jsx(p,{chat:y,onClick:function(){}}));var Z;!c("gkx")("26254")&&(J!=null||U!=null)&&(Z=k.jsx(c("WAWebDivider.react"),{}));I=null;if(y.isGroup&&y.mute.canMute()&&d("WAWebABProps").getABPropConfigValue("quick_mute_enabled")){f=function(){var a=!1;y.isPSA?d("WAWebCmd").Cmd.muteChatFromEntryPoint(y,!A,3,a):d("WAWebCmd").Cmd.muteChat(y,!A,a)};z=A?h._("__JHASH__SlVd64D7N5W__JHASH__"):h._("__JHASH__lE0p69898Df__JHASH__");I=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:A?k.jsx(d("WAWebNotificationsOffIcon").NotificationsOffIcon,{}):k.jsx(d("WAWebNotificationsOnIcon").NotificationsOnIcon,{}),title:z,onClick:f})}V=((i=y.groupMetadata)==null?void 0:i.parentGroup)!=null&&y.groupMetadata.participants.iAmMember()&&d("WAWebCommunityGatingUtils").communitySubgroupSwitcherEntrypointEnabled();a=V?k.jsx(d("WAWebSubgroupSwitcherIcon.react").SubgroupSwitcherIcon,{chat:y}):null;e=y.isNewsletter||d("WAWebChatGroupUtils").isSuspendedGroup(y)?null:k.jsx(d("WAWebMenuBar.react").MenuBarItem,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,testid:void 0,icon:k.jsx(d("WAWebSearchAltIcon").SearchAltIcon,{}),title:h._("__JHASH__mTVgM6PYlov__JHASH__"),onClick:R});y.isPSA&&(X=k.jsx(c("WAWebUserSubtitle.react"),{contact:y.contact,presence:y.presence,chatstate:y.presence.chatstate,location:"title",showBusinessCheckmark:D,chatId:y.id}));var $;K&&($=k.jsx(c("WAWebChatAssignmentNux.react"),{targetRef:x,chat:y}));return g.aborted?null:k.jsxs("header",{ref:w,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((T={},T[c("WAWebHeader.scss").chatHeader]=!0,T[c("WAWebHeader.scss").chatHeaderBorderOverride]=d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled(),T)),onClickCapture:P,onMouseDown:O,"data-testid":void 0,children:[k.jsx("div",{className:"x1c4vz4f x2lah0s xdl72j9 x1i4ejaq x1y332i5",onClick:function(){return r(y,j,d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.CHAT_HEADER)},title:h._("__JHASH__M94AwrcVrNV__JHASH__"),role:y.isPSA?null:"button",children:k.jsx(c("WAWebGroupChatImage.react"),{chat:y,theme:d("WAWebStackedCirclesImage.react").SubgroupImageTheme.CHAT_HEADER,regularChatImage:k.jsx(d("WAWebDetailImage.react").DetailImage,{id:y.id,size:40,ephemeralIcon:"conversation-header",enableDataSharingIcon:!0}),showCommunityInfo:!0})}),k.jsxs("div",{className:c("WAWebHeader.scss").chatBody,onClick:function(){return r(y,j,d("WAWebWamEnumProfileEntryPoint").PROFILE_ENTRY_POINT.CHAT_HEADER)},role:y.isPSA?null:"button","data-testid":void 0,children:[k.jsx("div",{className:c("WAWebHeader.scss").chatMain,children:k.jsx("div",{className:c("WAWebHeader.scss").chatTitle,children:k.jsx(d("WAWebName.react").Name,{chat:y,ellipsify:!0,showBusinessCheckmark:C,testid:void 0,showMessageYourselfName:B})})}),X]}),k.jsx("div",{className:c("WAWebHeader.scss").chatControls,children:k.jsxs(d("WAWebMenuBar.react").MenuBar,{children:[a,U,J,Z,k.jsx(d("WAWebCommerceButton.react").CommerceButton,{chat:y}),d("WAWebNewsletterGatingUtils").isNewsletterEnabled()&&k.jsx(c("WAWebNewsletterConversationPanelHeader.react"),{chat:y}),e,I,W!=null&&k.jsx("div",{className:c("WAWebHeader.scss").menuItemContainer,ref:F,children:k.jsx(d("WAWebMenuBar.react").MenuBarItem,{ref:x,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_HEADER_BUTTON,icon:k.jsx(d("WAWebMenuIcon").MenuIcon,{xstyle:d("WAWebUISpacing").uiMargin.top2}),title:h._("__JHASH__hskmX_lsgx4__JHASH__"),onClick:function(a){L(!1),Q(a)},testid:void 0,children:Y})})]},"conversation-header")}),$]})}a.displayName=a.name+" [from "+f.id+"]";g.openInfoPanel=r;g.ConversationHeader=a}),226);